<div *ngIf="!showSettings && !searchResult">
    <br/>
    <br/>
    <br/>
    <br/>
    <br/>
    <br/>
    <br/>
    <br/>
    <br/>
    <br/>
</div>
<div class="container-fluid grid">
    <div class="row">
        <div class="col-lg-6 col-lg-offset-3 col-sm-8 col-sm-offset-2 col-xs-12">

            <form>
                <div class="form-group" id="srch-group">

                    <h2>Suche</h2>
                    <div class="form-group row">
                        <label for="srch-route-begin" class="col-xs-12 col-sm-2 col-form-label">Startland</label>
                        <div class="col-xs-12 col-sm-10">
                            <input class="form-control" type="text" [(ngModel)]="searchParam.startCountry"
                                   placeholder="Startland" id="srch-route-begin" name="start-country">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="srch-route-end" class="col-xs-12 col-sm-2 col-form-label">Zielland</label>
                        <div class="col-xs-12 col-sm-10">
                            <input class="form-control" type="text" [(ngModel)]="searchParam.endCountry"
                                   placeholder="Zielland" id="srch-route-end" name="end-country">
                        </div>
                    </div>
                    <div id="collapseExample" [ngbCollapse]="!showSettings">
                        <div class="form-group row">
                            <label for="srch-route-name" class="col-xs-12 col-sm-2 col-form-label">Name</label>
                            <div class="col-xs-12 col-sm-10">
                                <input class="form-control" type="text" [(ngModel)]="searchParam.name"
                                       placeholder="Routenname" id="srch-route-name" name="name">
                            </div>
                        </div>

                        <div class="form-group row">
                            <label for="srch-route-duration" class="col-xs-12 col-sm-2 col-form-label">Dauer</label>
                            <div class="col-xs-12 col-sm-10">
                                <select class="form-control" id="srch-route-duration"
                                        (change)="setDuration($event.target.value)">
                                    <option value="0;365">Bitte w√§hlen...</option>
                                    <option value="0;1">max. 1 Tag</option>
                                    <option value="1;3">1-3 Tage</option>
                                    <option value="3;5">3-5 Tage</option>
                                    <option value="5;7">5-7 Tage</option>
                                    <option value="7;14">7-14 Tage</option>
                                    <option value="14;365">14+ Tage</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-xs-12 col-sm-2 col-form-label">Entfernung</label>
                            <div class="col-xs-12 col-sm-10">
                                <nouislider id="srch-route-distance" name="srch-route-distance" [connect]="true"
                                            [min]="searchDistanceMin"
                                            [max]="searchDistanceMax" [step]="5" (ngModelChange)="setDistance($event)"
                                            [(ngModel)]="searchDistance" [tooltips]="[ true, true ]"
                                            style="margin-top: 2.5em;"></nouislider>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="srch-route-difficulty"
                                   class="col-xs-12 col-sm-2 col-form-label">Schwierigkeit</label>
                            <div class="col-xs-12 col-sm-10" data-toggle="buttons">
                                <nouislider id="srch-route-difficulty" (ngModelChange)="setDifficulty($event)"
                                            [(ngModel)]="searchDifficulty" [config]="sliderConfig"
                                            name="srch-route-difficulty"></nouislider>
                                <br/>
                                <!--<label class="btn btn-success btn-chkBx active col-xs-2 col-xs-offset-1">
                                    <input type="checkbox" id="srch-route-difficulty-0" value="0" autocomplete="off"
                                           checked>
                                    <i class="fa fa-check" aria-hidden="true"></i>
                                </label>

                                <label class="btn btn-primary btn-chkBx col-xs-2">
                                    <input type="checkbox" id="srch-route-difficulty-1" value="1" autocomplete="off">
                                    <i class="fa fa-check" aria-hidden="true"></i>
                                </label>

                                <label class="btn btn-warning btn-chkBx col-xs-2">
                                    <input type="checkbox" id="srch-route-difficulty-2" value="2" autocomplete="off">
                                    <i class="fa fa-check" aria-hidden="true"></i>
                                </label>

                                <label class="btn btn-danger btn-chkBx col-xs-2">
                                    <input type="checkbox" id="srch-route-difficulty-3" value="3" autocomplete="off">
                                    <i class="fa fa-check" aria-hidden="true"></i>
                                </label>

                                <label class="btn btn-dark btn-chkBx col-xs-2">
                                    <input type="checkbox" id="srch-route-difficulty-4" value="4" autocomplete="off">
                                    <i class="fa fa-check" aria-hidden="true"></i>
                                </label>-->
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-xs-12 col-sm-2 col-form-label">Bewertung</label>
                            <div class="col-xs-12 col-sm-10">
                                <label class="radio-inline"><input type="radio" name="optradio" value="1"
                                                                   [(ngModel)]="searchParam.minRating"><i
                                        class="fa fa-star"
                                        aria-hidden="true"></i></label>
                                <label class="radio-inline"><input type="radio" name="optradio" value="2"
                                                                   [(ngModel)]="searchParam.minRating"><i
                                        class="fa fa-star"
                                        aria-hidden="true"></i><i
                                        class="fa fa-star" aria-hidden="true"></i></label>
                                <label class="radio-inline"><input type="radio" name="optradio" value="3"
                                                                   [(ngModel)]="searchParam.minRating"><i
                                        class="fa fa-star"
                                        aria-hidden="true"></i><i
                                        class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star"
                                                                                     aria-hidden="true"></i></label>
                                <label class="radio-inline"><input type="radio" name="optradio" value="4"
                                                                   [(ngModel)]="searchParam.minRating"><i
                                        class="fa fa-star"
                                        aria-hidden="true"></i><i
                                        class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star"
                                                                                     aria-hidden="true"></i><i
                                        class="fa fa-star" aria-hidden="true"></i></label>
                                <label class="radio-inline"><input type="radio" name="optradio" value="5"
                                                                   [(ngModel)]="searchParam.minRating"><i
                                        class="fa fa-star"
                                        aria-hidden="true"></i><i
                                        class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star"
                                                                                     aria-hidden="true"></i><i
                                        class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star"
                                                                                     aria-hidden="true"></i></label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group row text-right">
                        <button type="button" class="btn btn-expand" (click)="showSettings = !showSettings"
                                [attr.aria-expanded]="showSettings" aria-controls="collapseExample">
                            <i *ngIf="!showSettings" class="fa fa-chevron-down fa-2x" aria-hidden="true"></i>
                            <i *ngIf="showSettings" class="fa fa-chevron-up fa-2x" aria-hidden="true"></i>
                        </button>
                        <button type="button" class="btn btn-search" (click)="searchTracks()">
                            <i class="fa fa-search fa-2x" aria-hidden="true"></i>
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div *ngIf="searchResult" class="row">
        <div class="col-xs-12">
            <h1 class="page-header">Suchergebnisse</h1>
        </div>
        <div class="table-responsive col-xs-12">
            <table class="table table-hover table-striped">
                <tr>
                    <th> Name</th>
                    <th> Startland</th>
                    <th> Zielland</th>
                    <th><i class="fa fa-clock-o fa-fw"></i> Dauer</th>
                    <th><i class="fa fa-road fa-fw"></i> Entfernung</th>
                    <th><i class="fa fa-signal fa-fw"></i> Schwierigkeit</th>
                    <th><i class="fa fa-star-o fa-fw"></i> Bewertung</th>
                </tr>
                <tr *ngFor="let track of searchResult">
                    <td>{{track.name}}</td>
                    <td>{{track.startCountry}}</td>
                    <td>{{track.endCountry}}</td>
                    <td>{{track.duration}} Stunden</td>
                    <td>{{track.distance}} km</td>
                    <td>{{DIFFICULTY_TEXT[track.difficultyAvg.toPrecision(1)]}}</td>
                    <ngb-rating [(rate)]="track.ratingAvg" [starTemplate]="t" max="5" [readonly]="true"></ngb-rating>

                </tr>
            </table>
        </div>
    </div>
</div>